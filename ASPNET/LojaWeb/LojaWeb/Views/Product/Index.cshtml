@{
	ViewBag.Title = "Product List";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<center><h3>List of Products already exists in the system</h3></center>

<table class="table table-hover">
	<thead class="thead-dark">
		<tr>
			<th scope="col"># ID</th>
			<th scope="col">Name</th>
			<th scope="col">Description</th>
			<th scope="col">Price</th>
			<th scope="col">Quantity</th>
			<th scope="col">Category # ID</th>
			<th scope="col">Category Name</th>
			<th scope="col"></th>
		</tr>
	</thead>
	<tbody>
		@foreach ( var prod in ViewBag.Products ) {
			<tr>
				<td scope="row">@prod.Id</td>
				<td>@prod.Name</td>
				<td>@prod.Description</td>
				<td>@prod.Price</td>
				<td>@prod.Quantity</td>
				<td scope="row">@prod.CategoryId</td>
				@foreach ( var cat in ViewBag.Categorys ) {
					if ( @cat.Id == @prod.CategoryId ) {
						<td>@cat.Name</td>
					}
				}
				<td scope="row">
					<form action="/Product/FormUp" method="POST">
						<input hidden name="id" type="number" value="@prod.Id" />
						<input class="btn btn-outline-info btn-sm" type="submit" value="Edit" />
					</form>
					<form action="/Product/Remove" method="POST">
						<input hidden name="id" type="number" value="@prod.Id" />
						<input class="btn btn-outline-danger btn-sm" type="submit" value="Remove" />
					</form>
				</td>
			</tr>
		}
	</tbody>
</table>